(()=>{var g=Object.create;var a=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var D=Object.getOwnPropertyNames;var S=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty;var y=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),w=(e,t)=>{for(var n in t)a(e,n,{get:t[n],enumerable:!0})},p=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of D(t))!_.call(e,o)&&o!==n&&a(e,o,{get:()=>t[o],enumerable:!(r=x(t,o))||r.enumerable});return e};var l=(e,t,n)=>(n=e!=null?g(S(e)):{},p(t||!e||!e.__esModule?a(n,"default",{value:e,enumerable:!0}):n,e)),A=e=>p(a({},"__esModule",{value:!0}),e);var s=y((P,c)=>{c.exports=shelter.solidWeb});var E={};w(E,{onLoad:()=>$,onUnload:()=>v,settings:()=>d});var i=l(s(),1),u=l(s(),1),C=(0,i.template)(`<p>Match dot separators in original filename
<code>(myfile.rev1.png \u2192 1678677832.png)</code></p>`,4),{plugin:{store:m},ui:{SwitchItem:I}}=shelter,d=()=>(0,u.createComponent)(I,{get value(){return m.matchDotSeparators},onChange:e=>{m.matchDotSeparators=e},get children(){let e=C.cloneNode(!0);return e.style.setProperty("white-space","pre-line"),e}});var{flux:{intercept:O},plugin:{store:f}}=shelter,h;function $(){f.matchDotSeperators??=!1,h=O(e=>{if(e?.type==="UPLOAD_ATTACHMENT_ADD_FILES")return e?.files?.forEach(({file:t})=>{if(!t?.name)return;let n=Date.now().toString();if(t.name.includes(".")){let r=f.matchDotSeparators?t.name.lastIndexOf("."):t.name.indexOf(".");n+=t.name.slice(r)}Object.defineProperty(t,"name",{value:n})}),e})}function v(){h()}return A(E);})();

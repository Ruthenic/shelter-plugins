(()=>{var o=Object.defineProperty;var l=Object.getOwnPropertyDescriptor;var c=Object.getOwnPropertyNames;var p=Object.prototype.hasOwnProperty;var f=(t,e)=>{for(var n in e)o(t,n,{get:e[n],enumerable:!0})},N=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of c(e))!p.call(t,a)&&a!==n&&o(t,a,{get:()=>e[a],enumerable:!(r=l(e,a))||r.enumerable});return t};var d=t=>N(o({},"__esModule",{value:!0}),t);var x={};f(x,{onLoad:()=>m,onUnload:()=>C});var{util:{getFiberOwner:O,awaitDispatch:u},flux:{awaitStore:i,dispatcher:E}}=shelter;function g(){let t=document.querySelector("nav > [role=tablist]")?.parentElement;O(t)?.forceUpdate?.()}async function s(t){let{getCurrentUser:e}=await i("UserStore"),n=e();n||(await u("CONNECTION_OPEN"),n=e()),n.flags=t?n.flags|1:n.flags&-2,await i("ExperimentStore"),await i("DeveloperExperimentStore");let r=Object.values(E._actionHandlers._dependencyGraph.nodes);r.find(a=>a.name==="ExperimentStore").actionHandler.CONNECTION_OPEN({type:"CONNECTION_OPEN",user:{flags:n.flags},experiments:[]}),r.find(a=>a.name==="DeveloperExperimentStore").actionHandler.CONNECTION_OPEN(),g()}function m(){s(!0)}function C(){s(!1)}return d(x);})();

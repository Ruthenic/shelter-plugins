(()=>{var x=Object.create;var l=Object.defineProperty;var k=Object.getOwnPropertyDescriptor;var j=Object.getOwnPropertyNames;var O=Object.getPrototypeOf,L=Object.prototype.hasOwnProperty;var C=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),S=(e,r)=>{for(var t in r)l(e,t,{get:r[t],enumerable:!0})},v=(e,r,t,s)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of j(r))!L.call(e,o)&&o!==t&&l(e,o,{get:()=>r[o],enumerable:!(s=k(r,o))||s.enumerable});return e};var c=(e,r,t)=>(t=e!=null?x(O(e)):{},v(r||!e||!e.__esModule?l(t,"default",{value:e,enumerable:!0}):t,e)),U=e=>v(l({},"__esModule",{value:!0}),e);var n=C((z,w)=>{w.exports=shelter.solidWeb});var W={};S(W,{onLoad:()=>E,onUnload:()=>P});var y=c(n(),1);var b=c(n(),1),p=c(n(),1),g=c(n(),1),m=c(n(),1);shelter.plugin.scoped.ui.injectCss("._wrapper_yrbw8_1{display:flex;flex-direction:column;align-items:flex-start;margin:0 auto;width:fit-content}._image_yrbw8_1{user-select:none;object-fit:contain;width:480px}._link_yrbw8_1{font-size:14px;font-weight:500;line-height:30px;color:var(--white-500);text-decoration:none;transition:opacity .15s ease;opacity:.5}._link_yrbw8_1:hover{opacity:1;text-decoration:underline}._ioj4Opi_yrbw8_1{cursor:pointer}");var i={wrapper:"_wrapper_yrbw8_1",image:"_image_yrbw8_1",link:"_link_yrbw8_1",ioj4Opi:"_ioj4Opi_yrbw8_1"};var I=(0,b.template)('<div><img><a rel="noreferrer noopener" target="_blank">Open in Browser</a></div>',5),$=({url:e})=>{e.searchParams.set("size","4096");let r=e.toString(),t=r.replace(/\.(webp)($|\?)/,".png$2");return(()=>{let s=I.cloneNode(!0),o=s.firstChild,_=o.nextSibling;return(0,m.setAttribute)(o,"src",r),(0,m.setAttribute)(_,"href",t),(0,g.effect)(a=>{let d=i.wrapper,f=i.image,u=i.link;return d!==a._v$&&(0,p.className)(s,a._v$=d),f!==a._v$2&&(0,p.className)(o,a._v$2=f),u!==a._v$3&&(0,p.className)(_,a._v$3=u),a},{_v$:void 0,_v$2:void 0,_v$3:void 0}),s})()};var{ui:{openModal:N}}=shelter,A=shelter.plugin.scoped;function h(e){let r=e.target?.querySelector('img[class*="avatar"]')?.src??e.target?.style?.backgroundImage?.slice(5,-2);r&&(N(()=>(0,y.createComponent)($,{url:new URL(r)})),e.stopImmediatePropagation())}var B=['[class*="avatarWrapper"]:not([class*="clickable"])','[class*="memberInner"] [class*="avatar"] [class*="wrapper"]','[class*="avatarWrapperNonUserBot"]','[class*="wrapper"][class*="avatar"]','[class*="bannerPremium"]:not([class*="settingsBanner"])'];function E(){A.observeDom(`:is(${B.join(",")}):not(.${i.ioj4Opi})`,e=>{e.classList.add(i.ioj4Opi),e.addEventListener("click",h)})}function P(){document.querySelectorAll(`.${i.ioj4Opi}`).forEach(e=>{e.removeEventListener("click",h),e.classList.remove(i.ioj4Opi)})}return U(W);})();

(()=>{var t=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var E=Object.prototype.hasOwnProperty;var b=(e,n)=>{for(var r in n)t(e,r,{get:n[r],enumerable:!0})},d=(e,n,r,c)=>{if(n&&typeof n=="object"||typeof n=="function")for(let s of p(n))!E.call(e,s)&&s!==r&&t(e,s,{get:()=>n[s],enumerable:!(c=u(n,s))||c.enumerable});return e};var f=e=>d(t({},"__esModule",{value:!0}),e);var I={};b(I,{onLoad:()=>k,onUnload:()=>m});var{flux:{dispatcher:o},observeDom:v}=shelter;function R(e){console.log(e);let n=e.querySelector('div[class*="banner-"]');n&&(n.addEventListener("click",r=>l(r?.target?.style?.backgroundImage?.slice(5,-2))),n.style.cursor="pointer"),e.querySelectorAll('div[class*="wrapper-"]').forEach(r=>{avatarWrapper=r.parentElement.parentElement,!(avatarWrapper.className.includes("clickable-")&&avatarWrapper.onclick)&&(r.addEventListener("click",c=>l(c?.target?.querySelector('img[class*="avatar"]')?.src)),r.style.cursor="pointer")})}function l(e){if(!e)return;let n=new URL(e);n.search="?size=4096",open(n)}var _='[class*="userProfileModalInner"],[class*="userPopoutInner"]';function a(){let e=v(_,n=>{e(),queueMicrotask(R.bind(null,n))});setTimeout(e,1e3)}function i(e){(e.event==="open_popout"||e.event==="open_modal")&&a()}function k(){o.subscribe("TRACK",i),o.subscribe("USER_PROFILE_FETCH_FAILURE",a)}function m(){o.unsubscribe("TRACK",i),o.unsubscribe("USER_PROFILE_FETCH_FAILURE",a)}return f(I);})();

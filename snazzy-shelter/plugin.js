(()=>{var fe=Object.create;var b=Object.defineProperty;var le=Object.getOwnPropertyDescriptor;var se=Object.getOwnPropertyNames;var de=Object.getPrototypeOf,me=Object.prototype.hasOwnProperty;var C=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),pe=(e,t)=>{for(var r in t)b(e,r,{get:t[r],enumerable:!0})},$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of se(t))!me.call(e,o)&&o!==r&&b(e,o,{get:()=>t[o],enumerable:!(n=le(t,o))||n.enumerable});return e};var s=(e,t,r)=>(r=e!=null?fe(de(e)):{},$(t||!e||!e.__esModule?b(r,"default",{value:e,enumerable:!0}):r,e)),he=e=>$(b({},"__esModule",{value:!0}),e);var d=C((lt,E)=>{E.exports=shelter.solidWeb});var M=C((st,D)=>{D.exports=shelter.solid});var ut={};pe(ut,{onUnload:()=>it,settings:()=>ct});var ae=s(d()),ie=s(d());var te=s(d()),re=s(d()),ne=s(d()),l=s(M());function ge(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L(Object(r),!0).forEach(function(n){ge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ve(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function q(e,t){if(e==null)return{};var r=ve(e,t),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function N(e,t){return ye(e)||be(e,t)||Oe(e,t)||je()}function ye(e){if(Array.isArray(e))return e}function be(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,o=!1,a=void 0;try{for(var i=e[Symbol.iterator](),c;!(n=(c=i.next()).done)&&(r.push(c.value),!(t&&r.length===t));n=!0);}catch(u){o=!0,a=u}finally{try{!n&&i.return!=null&&i.return()}finally{if(o)throw a}}return r}}function Oe(e,t){if(!!e){if(typeof e=="string")return W(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W(e,t)}}function W(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function je(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function we(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R(Object(r),!0).forEach(function(n){we(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return t.reduceRight(function(o,a){return a(o)},n)}}function p(e){return function t(){for(var r=this,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return o.length>=e.length?e.apply(this,o):function(){for(var i=arguments.length,c=new Array(i),u=0;u<i;u++)c[u]=arguments[u];return t.apply(r,[].concat(o,c))}}}function j(e){return{}.toString.call(e).includes("Object")}function Se(e){return!Object.keys(e).length}function h(e){return typeof e=="function"}function Ie(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Te(e,t){return j(t)||f("changeType"),Object.keys(t).some(function(r){return!Ie(e,r)})&&f("changeField"),t}function Ae(e){h(e)||f("selectorType")}function xe(e){h(e)||j(e)||f("handlerType"),j(e)&&Object.values(e).some(function(t){return!h(t)})&&f("handlersType")}function Ce(e){e||f("initialIsRequired"),j(e)||f("initialType"),Se(e)&&f("initialContent")}function $e(e,t){throw new Error(e[t]||e.default)}var Ee={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},f=p($e)(Ee),O={changes:Te,selector:Ae,handler:xe,initial:Ce};function _e(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};O.initial(e),O.handler(t);var r={current:e},n=p(Le)(r,t),o=p(Me)(r),a=p(O.changes)(e),i=p(De)(r);function c(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(ue){return ue};return O.selector(y),y(r.current)}function u(y){Pe(n,o,a,i)(y)}return[c,u]}function De(e,t){return h(t)?t(e.current):t}function Me(e,t){return e.current=z(z({},e.current),t),t}function Le(e,t,r){return h(t)?t(e.current):Object.keys(r).forEach(function(n){var o;return(o=t[n])===null||o===void 0?void 0:o.call(t,e.current[n])}),r}var We={create:_e},F=We;var qe={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.33.0/min/vs"}},H=qe;function Ne(e){return function t(){for(var r=this,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return o.length>=e.length?e.apply(this,o):function(){for(var i=arguments.length,c=new Array(i),u=0;u<i;u++)c[u]=arguments[u];return t.apply(r,[].concat(o,c))}}}var U=Ne;function Re(e){return{}.toString.call(e).includes("Object")}var V=Re;function ze(e){return e||B("configIsRequired"),V(e)||B("configType"),e.urls?(Fe(),{paths:{vs:e.urls.monacoBase}}):e}function Fe(){console.warn(K.deprecation)}function He(e,t){throw new Error(e[t]||e.default)}var K={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},B=U(He)(K),Ue={config:ze},G=Ue;var Ve=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(o){return r.reduceRight(function(a,i){return i(a)},o)}},Y=Ve;function J(e,t){return Object.keys(t).forEach(function(r){t[r]instanceof Object&&e[r]&&Object.assign(t[r],J(e[r],t[r]))}),I(I({},e),t)}var Q=J;var Be={type:"cancelation",msg:"operation is manually canceled"};function Ke(e){var t=!1,r=new Promise(function(n,o){e.then(function(a){return t?o(Be):n(a)}),e.catch(o)});return r.cancel=function(){return t=!0},r}var w=Ke;var Ge=F.create({config:H,isInitialized:!1,resolve:null,reject:null,monaco:null}),X=N(Ge,2),g=X[0],P=X[1];function Ye(e){var t=G.config(e),r=t.monaco,n=q(t,["monaco"]);P(function(o){return{config:Q(o.config,n),monaco:r}})}function Je(){var e=g(function(t){var r=t.monaco,n=t.isInitialized,o=t.resolve;return{monaco:r,isInitialized:n,resolve:o}});if(!e.isInitialized){if(P({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),w(T);if(window.monaco&&window.monaco.editor)return Z(window.monaco),e.resolve(window.monaco),w(T);Y(Qe,Ze)(ke)}return w(T)}function Qe(e){return document.body.appendChild(e)}function Xe(e){var t=document.createElement("script");return e&&(t.src=e),t}function Ze(e){var t=g(function(n){var o=n.config,a=n.reject;return{config:o,reject:a}}),r=Xe("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function ke(){var e=g(function(r){var n=r.config,o=r.resolve,a=r.reject;return{config:n,resolve:o,reject:a}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(r){Z(r),e.resolve(r)},function(r){e.reject(r)})}function Z(e){g().monaco||P({monaco:e})}function et(){return g(function(e){var t=e.monaco;return t})}var T=new Promise(function(e,t){return P({resolve:e,reject:t})}),tt={config:Ye,init:Je,__getMonacoInstance:et},S=tt;var m,A,k=new Set;async function x(e){if(!e||!e.trim()||k.has(e))return;k.add(e);let t=`https://cdn.esm.sh/monaco-themes@0.4.2/themes/${e}.json`,r=await fetch(t).then(n=>n.json());m.editor.defineTheme(e,r)}async function ee(e){m||(e&&S.config({monaco:e}),A||(A=S.init().then(t=>{m=t})),await A)}var rt=(0,te.template)("<div></div>",2),oe=e=>{let t,r=!1,n=async o=>{if(await ee(e.noCDN),await x(e.theme),r)return;let a=m.editor.create(o,{language:e.lang,value:e.value,readOnly:e.readonly??!1,theme:e.theme,...e.otherCfg});t=()=>a.dispose(),a.onDidChangeModelContent(()=>{e.valOut?.(a.getValue())}),(0,l.createEffect)(()=>a.updateOptions({readOnly:e.readonly})),(0,l.createEffect)(()=>{e.value!==a.getValue()&&a.setValue(e.value)}),(0,l.createEffect)(async()=>{await x(e.theme),a.updateOptions({theme:e.theme})}),(0,l.createEffect)(()=>{let i=a.getModel();!i||(m.editor.setModelLanguage(i,e.lang),a.setModel(i))})};return(0,l.onCleanup)(()=>{r=!0,t?.()}),(()=>{let o=rt.cloneNode(!0);return(0,ne.use)(n,o),(0,re.effect)(a=>{let i=e.width??"30rem",c=e.height??"10rem";return i!==a._v$&&o.style.setProperty("width",a._v$=i),c!==a._v$2&&o.style.setProperty("height",a._v$2=c),a},{_v$:void 0,_v$2:void 0}),o})()};var nt=(0,ae.template)('<style>[class*="_mroot"] [class*="_modal"]{width:880px}</style>',2),{plugin:{store:v},ui:{injectCss:ot}}=shelter,ce=ot(v.css);v.css??="";var at=_.debounce(()=>ce?.(v.css),250),it=()=>ce();function ct(){return[(0,ie.createComponent)(oe,{get value(){return v.css},lang:"css",valOut:e=>{v.css=e,at()},theme:"Dracula",width:"100%",height:"30rem",otherCfg:{automaticLayout:!0}}),nt.cloneNode(!0)]}return he(ut);})();
